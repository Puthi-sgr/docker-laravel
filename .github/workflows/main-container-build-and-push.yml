name: Main (Container Build & Push)
on: { push: { branches: ["main"] } }
# This workflow will run test, build, and push the image to the registry if everything passed
jobs:
  ci:
    uses: puthi-sgr/puthi-cicd-templates/.github/workflows/container-ci.yml@v1.7
    with:
      image_name: ghcr.io/puthi-sgr/docker-laravel
      stack: php-laravel
      build_mode: full
    secrets:
      github_token: ${{ secrets.GITHUB_TOKEN }}